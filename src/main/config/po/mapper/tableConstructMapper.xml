<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="po.mapper.tableConstructMapper">

	<resultMap id="resMap_tableConstruct" type="po.Table">
		<result property="TABLE_NAME" column="TABLE_NAME" />
		<result property="TABLE_COMMENT" column="TABLE_COMMENT" />
		<association property="fieldList" column="TABLE_NAME" select="po.mapper.tableConstructMapper.tableFields" />
	</resultMap>

	<!-- 获取表结构 -->
	<select id="tableConstruct" parameterType="java.lang.String" resultMap="resMap_tableConstruct">
		SELECT
		TABLE_NAME,
		TABLE_COMMENT
		FROM
		information_schema.TABLES
		WHERE
		TABLE_NAME = UPPER(#{tableName})
		<!-- AND TABLE_SCHEMA = 'translate' -->
	</select>
	<!-- 获取表字段结构 -->
	<select id="tableFields" parameterType="java.lang.String" resultType="po.Field">
		SELECT
		COLUMN_NAME,
		DATA_TYPE,
		CHARACTER_MAXIMUM_LENGTH,
		NUMERIC_PRECISION,
		NUMERIC_SCALE,
		COLUMN_KEY,
		EXTRA,
		COLUMN_COMMENT
		FROM
		information_schema.`COLUMNS`
		WHERE
		TABLE_NAME = UPPER(#{tableName})
	</select>
</mapper>